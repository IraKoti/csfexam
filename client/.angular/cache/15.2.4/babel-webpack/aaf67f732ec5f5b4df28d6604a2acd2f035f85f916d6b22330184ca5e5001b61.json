{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/irawan/src/csfexam/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../services/nycservice\";\nimport * as i2 from \"@angular/router\";\nexport class ReviewComponent {\n  constructor(nycMovieSvc, actRoute, router) {\n    this.nycMovieSvc = nycMovieSvc;\n    this.actRoute = actRoute;\n    this.router = router;\n    this.movieName = \"\";\n  }\n  ngOnInit() {\n    var _this = this;\n    this.params$ = this.actRoute.params.subscribe( /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator(function* (params) {\n        _this.movieName = params['movieName'];\n        console.log(_this.movieName);\n        const r = yield _this.nycMovieSvc.searchMovie(_this.movieName);\n        console.log(r);\n        if (r === undefined || r.length == 0) {\n          _this.router.navigate(['/review', \"movieNotFound\"]);\n        } else {\n          _this.reviews = r;\n        }\n      });\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }());\n    console.log(this.reviews);\n  }\n}\nReviewComponent.ɵfac = function ReviewComponent_Factory(t) {\n  return new (t || ReviewComponent)(i0.ɵɵdirectiveInject(i1.NycMovieService), i0.ɵɵdirectiveInject(i2.ActivatedRoute), i0.ɵɵdirectiveInject(i2.Router));\n};\nReviewComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ReviewComponent,\n  selectors: [[\"app-review\"]],\n  decls: 2,\n  vars: 0,\n  template: function ReviewComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"p\");\n      i0.ɵɵtext(1, \"review works!\");\n      i0.ɵɵelementEnd();\n    }\n  },\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":";;;;AAWA,OAAM,MAAOA,eAAe;EAM1BC,YAAqBC,WAA4B,EAAUC,QAAwB,EACzEC,MAAc;IADH,gBAAW,GAAXF,WAAW;IAA2B,aAAQ,GAARC,QAAQ;IACzD,WAAM,GAANC,MAAM;IANhB,cAAS,GAAC,EAAE;EAMe;EAE3BC,QAAQ;IAAA;IACN,IAAI,CAACC,OAAO,GAAG,IAAI,CAACH,QAAQ,CAACI,MAAM,CAACC,SAAS;MAAA,6BAC3C,WAAOD,MAAM,EAAI;QACf,KAAI,CAACE,SAAS,GAAGF,MAAM,CAAC,WAAW,CAAC;QACpCG,OAAO,CAACC,GAAG,CAAC,KAAI,CAACF,SAAS,CAAC;QAC3B,MAAMG,CAAC,SAAS,KAAI,CAACV,WAAW,CAACW,WAAW,CAAC,KAAI,CAACJ,SAAS,CAAC;QAC5DC,OAAO,CAACC,GAAG,CAACC,CAAC,CAAC;QACd,IAAGA,CAAC,KAAKE,SAAS,IAAIF,CAAC,CAACG,MAAM,IAAI,CAAC,EACnC;UACE,KAAI,CAACX,MAAM,CAACY,QAAQ,CAAC,CAAC,SAAS,EAAC,eAAe,CAAC,CAAC;SAClD,MAED;UACE,KAAI,CAACC,OAAO,GAAGL,CAAC;;MAGpB,CAAC;MAAA;QAAA;MAAA;IAAA,IACF;IACDF,OAAO,CAACC,GAAG,CAAC,IAAI,CAACM,OAAO,CAAC;EAI3B;;AA/BWjB,eAAe;mBAAfA,eAAe;AAAA;AAAfA,eAAe;QAAfA,eAAe;EAAAkB;EAAAC;EAAAC;EAAAC;IAAA;MCX5BC,yBAAG;MAAAA,6BAAa;MAAAA,iBAAI","names":["ReviewComponent","constructor","nycMovieSvc","actRoute","router","ngOnInit","params$","params","subscribe","movieName","console","log","r","searchMovie","undefined","length","navigate","reviews","selectors","decls","vars","template","i0"],"sourceRoot":"","sources":["C:\\Users\\irawan\\src\\csfexam\\client\\src\\app\\components\\review.component.ts","C:\\Users\\irawan\\src\\csfexam\\client\\src\\app\\components\\review.component.html"],"sourcesContent":["import { Component, OnInit, OnDestroy} from '@angular/core';\nimport { ActivatedRoute, Params, Router } from '@angular/router';\nimport { Subscription } from 'rxjs';\nimport { Review } from '../models/review';\nimport { NycMovieService } from '../services/nycservice';\n\n@Component({\n  selector: 'app-review',\n  templateUrl: './review.component.html',\n  styleUrls: ['./review.component.css']\n})\nexport class ReviewComponent implements OnInit {\n  movieName=\"\";\n  params$ !: Subscription;\n  reviews !: Review[];\n  \n\n  constructor( private nycMovieSvc: NycMovieService, private actRoute: ActivatedRoute,\n    private router: Router) {}\n\n  ngOnInit(): void {\n    this.params$ = this.actRoute.params.subscribe(\n      async (params) => {\n        this.movieName = params['movieName'];\n        console.log(this.movieName);\n        const r = await this.nycMovieSvc.searchMovie(this.movieName);\n        console.log(r);\n        if(r === undefined || r.length == 0)\n        {\n          this.router.navigate(['/review',\"movieNotFound\"]);\n        }\n        else\n        {\n          this.reviews = r;\n        }\n        \n      }\n    )\n    console.log(this.reviews);\n\n\n\n  }\n\n}\n","<p>review works!</p>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}