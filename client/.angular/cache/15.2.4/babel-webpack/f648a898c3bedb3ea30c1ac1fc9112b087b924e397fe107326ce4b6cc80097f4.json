{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/irawan/src/csfexam/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../services/nycservice\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nfunction ReviewComponent_tr_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵelement(2, \"img\", 1);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4, \"r.movie\");\n    i0.ɵɵelementEnd()();\n  }\n}\nexport class ReviewComponent {\n  constructor(nycMovieSvc, actRoute, router) {\n    this.nycMovieSvc = nycMovieSvc;\n    this.actRoute = actRoute;\n    this.router = router;\n    this.movieName = \"\";\n  }\n  ngOnInit() {\n    var _this = this;\n    this.params$ = this.actRoute.params.subscribe( /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator(function* (params) {\n        _this.movieName = params['movieName'];\n        console.log(_this.movieName);\n        const r = yield _this.nycMovieSvc.searchMovie(_this.movieName);\n        console.log(r);\n        if (r === undefined || r.length == 0) {\n          _this.router.navigate(['/review', \"movieNotFound\"]);\n        } else {\n          _this.reviews = r;\n        }\n      });\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }());\n    console.log(this.reviews);\n  }\n}\nReviewComponent.ɵfac = function ReviewComponent_Factory(t) {\n  return new (t || ReviewComponent)(i0.ɵɵdirectiveInject(i1.NycMovieService), i0.ɵɵdirectiveInject(i2.ActivatedRoute), i0.ɵɵdirectiveInject(i2.Router));\n};\nReviewComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ReviewComponent,\n  selectors: [[\"app-review\"]],\n  decls: 8,\n  vars: 1,\n  consts: [[4, \"ngFor\", \"ngForOf\"], [\"src\", \"/asset/placeholder.jpg\"]],\n  template: function ReviewComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"table\")(1, \"tr\")(2, \"td\");\n      i0.ɵɵtext(3, \"Search Result\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"td\")(5, \"button\");\n      i0.ɵɵtext(6, \"Back\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵtemplate(7, ReviewComponent_tr_7_Template, 5, 0, \"tr\", 0);\n      i0.ɵɵelementEnd();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(7);\n      i0.ɵɵproperty(\"ngForOf\", ctx.reviews);\n    }\n  },\n  dependencies: [i3.NgForOf],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":";;;;;;;IAKIA,0BAA8B;IACtBA,yBAAkC;IAAAA,iBAAK;IAC3CA,0BAAI;IAAAA,uBAAO;IAAAA,iBAAK;;;ACIxB,OAAM,MAAOC,eAAe;EAM1BC,YAAqBC,WAA4B,EAAUC,QAAwB,EACzEC,MAAc;IADH,gBAAW,GAAXF,WAAW;IAA2B,aAAQ,GAARC,QAAQ;IACzD,WAAM,GAANC,MAAM;IANhB,cAAS,GAAC,EAAE;EAMe;EAE3BC,QAAQ;IAAA;IACN,IAAI,CAACC,OAAO,GAAG,IAAI,CAACH,QAAQ,CAACI,MAAM,CAACC,SAAS;MAAA,6BAC3C,WAAOD,MAAM,EAAI;QACf,KAAI,CAACE,SAAS,GAAGF,MAAM,CAAC,WAAW,CAAC;QACpCG,OAAO,CAACC,GAAG,CAAC,KAAI,CAACF,SAAS,CAAC;QAC3B,MAAMG,CAAC,SAAS,KAAI,CAACV,WAAW,CAACW,WAAW,CAAC,KAAI,CAACJ,SAAS,CAAC;QAC5DC,OAAO,CAACC,GAAG,CAACC,CAAC,CAAC;QACd,IAAGA,CAAC,KAAKE,SAAS,IAAIF,CAAC,CAACG,MAAM,IAAI,CAAC,EACnC;UACE,KAAI,CAACX,MAAM,CAACY,QAAQ,CAAC,CAAC,SAAS,EAAC,eAAe,CAAC,CAAC;SAClD,MAED;UACE,KAAI,CAACC,OAAO,GAAGL,CAAC;;MAGpB,CAAC;MAAA;QAAA;MAAA;IAAA,IACF;IACDF,OAAO,CAACC,GAAG,CAAC,IAAI,CAACM,OAAO,CAAC;EAC3B;;AA5BWjB,eAAe;mBAAfA,eAAe;AAAA;AAAfA,eAAe;QAAfA,eAAe;EAAAkB;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MDX5BvB,6BAAO;MAEKA,6BAAa;MAAAA,iBAAK;MACtBA,0BAAI;MAAQA,oBAAI;MAAAA,iBAAS;MAE7BA,8DAGK;MACTA,iBAAQ;;;MAJcA,eAAU;MAAVA,qCAAU","names":["i0","ReviewComponent","constructor","nycMovieSvc","actRoute","router","ngOnInit","params$","params","subscribe","movieName","console","log","r","searchMovie","undefined","length","navigate","reviews","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\Users\\irawan\\src\\csfexam\\client\\src\\app\\components\\review.component.html","C:\\Users\\irawan\\src\\csfexam\\client\\src\\app\\components\\review.component.ts"],"sourcesContent":["<table>\n    <tr>\n        <td>Search Result</td>\n        <td><button>Back</button></td>\n    </tr>\n    <tr *ngFor=\"let r of reviews\">\n        <td><img src=\"/asset/placeholder.jpg\"></td>\n        <td>r.movie</td>\n    </tr>\n</table>\n\n\n","import { Component, OnInit, OnDestroy} from '@angular/core';\nimport { ActivatedRoute, Params, Router } from '@angular/router';\nimport { Subscription } from 'rxjs';\nimport { Review } from '../models/review';\nimport { NycMovieService } from '../services/nycservice';\n\n@Component({\n  selector: 'app-review',\n  templateUrl: './review.component.html',\n  styleUrls: ['./review.component.css']\n})\nexport class ReviewComponent implements OnInit {\n  movieName=\"\";\n  params$ !: Subscription;\n  reviews !: Review[];\n  \n\n  constructor( private nycMovieSvc: NycMovieService, private actRoute: ActivatedRoute,\n    private router: Router) {}\n\n  ngOnInit(): void {\n    this.params$ = this.actRoute.params.subscribe(\n      async (params) => {\n        this.movieName = params['movieName'];\n        console.log(this.movieName);\n        const r = await this.nycMovieSvc.searchMovie(this.movieName);\n        console.log(r);\n        if(r === undefined || r.length == 0)\n        {\n          this.router.navigate(['/review',\"movieNotFound\"]);\n        }\n        else\n        {\n          this.reviews = r;\n        }\n        \n      }\n    )\n    console.log(this.reviews);\n  }\n\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}